---
category: 编程语言
tag: Java
order: 5
excerpt: Java 数据类型
---
# :frog: Java-数据类型
## 整数类型
像我们之前定义的`int x = 10`的x就属于整数类型，顾名思义，Java的整数类型就是用于存放整数值的，比如12，30，3456等。

Java中，由于表示范围不同，将整数类型分为以下几种。

|类型|占用存储空间|范围|
|:-:|:-:|:-:|
|`byte`(字节)|1字节|-128~127|
|`short`(短整型)|2字节|-32768~32767|
|`int`(整型)|4字节|-2147483648~2147483647|
|`long`(长整型)|8字节|-2^63^~2^63^-1|
## 浮点类型
在计算机中，浮点数的存储是以m * b^e^ 的形式，存储一个数值，`m`是小数部分，b是基数（通常是2），`e`是指数部分。这种形式是精度和数值范围的一种结合，可以表示非常大或者非常小的数。

|类型|占用存储空间|范围|
|:-:|:-:|:-:|
|`float`(单精度)|4字节|-3.403e38~4.403e38|
|`double`(双精度)|8字节|-1.798e308~1.798e308|

需要注意的是，浮点数存在限制精度，因此小数都是近似值
```java
boolean x = (0.1+0.2 == 0.3);
System.out.println(x);  //false
```
当我们需要在Java中判断浮点数是否相等，我们需要给定一个误差，参考下面的代码。
```java
boolean x = (0.1+0.2-0.3<0.00001);
System.out.println(x);  //true
```
## 字符类型
Java的字符类型`char`可以表示`单个字符`，Java中的`char`类型为2个字节。
```java
char x = 'a';
char a = '万';
char m = 97;    //a
```
需要注意的是，字符需要用单引用而不能用双引号。字符类型也可以直接存放数字。

为什么`char`类型可以存放数字呢，我们需要理解字符在计算机中怎么保存的。我们知道，计算机只能存储`0` `1`代码。于是字符是不能直接存储在计算机的。在Java中，字符需要经过unicode编码成数字在存储进计算机。

举个例子，`'a'`将其经过`unicode`编码后为97，Java将`97`存入计算机，当我们`System.out.println(a)`时，Java会将`97`再经过`unicode`解码成`'a'`再输出
## 布尔类型
Java中布尔类型叫`boolean`，取值为`true`和`false`，占1个字节。

布尔类型一般用于逻辑运算，用在流程控制中。

## 字面量
字面量指的就是表面的量，就是在代码中可以看到的。
```java
int x = 100;
```
`x`为变量，`100`是字面量。

编译时，字面量也会写入内存，因此编译器必须为字面量指定数据类型，就像必须为变量指定数据类型一样。

一般情况下，十进制整数字面量（比如`123`）会被编译器指定为`int`类型。如果一个数值比较大，超出了`int`能够表示的范围，编译器会将其指定为`long`。

我们以上面`int x = 100;`来解释给变量赋值的过程。由于没有指定字面量`100`的类型，Java默认为`int`，JVM开辟2片`int`类型的空间，一片为`0`，一片为`100`，将`0`命名为`x`，然后将`100`空间的二进制数全部拷贝到`x`空间，完成初始化和赋值。

当然我们也可以指定字面量的类型。
```java
long x = 123L;
```
Java会在内存中开辟long类型的空间用于存储字面量`123L`。

特别注意的是，如果变量的类型和字面量的类型不同，要注意下面两种情况。
```java
int x = 123l;   //报错
float a = 1.23; //报错
```
Java中，整数类型字面量一般是`int`类型，如果用`123l`变成`long`类型，Java需要将宽类型的数`123L`放进窄类型的数`int x`，放不进去，报错，而`long x = 123;`则不会报错，因为它是将窄类型的数`123`放进宽类型的`long x`中。

Java中浮点数的字面量一般是`double`，如果需要`float`类型，需要用`float`类型的字面量`1.23f`
```java
byte b1 = 10;
```
若字面量没有指明类型，默认是`int`类型，但是如果将其赋值给`byte`和`short`，会判断其是否再`byte`和`short`的范围内，如果是就可以
## 类型转换 
### 自动类型转换
当Java程序正在进行赋值或运算时，精度小的类型自动转换为精度大的数据类型

![](/Java/18.png)

需要注意的是

- 有多种类型的数据混合运算时，Java首先自动将所有数据转换成容量最大的那种数据类型，然后再进行计算
- 当我们把精度大的数据类型赋值给精度小的数据类型时，报错，反之就会进行自动类型转换
- (`byte`，`short`)和`char`之间不会相互自动转换
- `byte` `short` `char`它们三者可以计算，在计算时首先转换为`int`类型
- `boolean`不参与转换
### 强制类型转换
使用时要加上强制转换符()，可能会造成精度降低或溢出
```java
int i = (int)1.9;
```
Java会将字面量1.9转换为`int`类型，将小数部分删除。

- 当进行数据的大小从大->小时需要用到强制转换
- 只针对于最近的操作数有效，例如`int x = (int)10*3.5`，Java会将10进行类型转换，需要加小括号提升优先级 `int x = (int)(10*3.5)`
- `char`类型可以保存`int`的字面量，但不能保存`int`的变量，例如，`char x = 100;`但是`int m = 100;char x = m`会报错
- `byte` `short`类型在进行运算时，当作int类型处理

## 再探main方法

我们知道，Java程序的入口是`main`方法，而`main`方法自带了一个参数，这个参数是什么意思呢，我们来看看这个参数。
```java
public class Main {
    public static void main(String[] args) {
        for (String arg : args) {
            System.out.println(arg);
        }
    }
}
```
我们使用命令行编译运行它
```sh
$ javac Main.java
$ java Main     //无
```

我们可以看到并没有输出，这是因为这个参数是JVM接收用户的命令行输入。我们来看下面的例子。

```sh
$ javac Main.java
$ java Main -version -qqq       //-version -qqq
```
我们看到打印了-version  -qqq，这样我们就可以根据传入的命令行参数不同，作出不同的响应。