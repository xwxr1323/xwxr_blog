---
title: 第三章 存储器
category: 计算机组成原理
order: 3
---
## 概述

### 存储器分类

- 按存储介质分类
  - 半导体存储器   TTL、MOS
  - 磁表面存储器   磁头、载磁体
  - 磁芯存储器     硬磁材料、环状元件
  - 光盘存储器    激光、激光材料

- 按存取方式分类
  - 存取时间与物理地址无关(随机访问)
    - 随机存储器	在程序的执行过程中可读可写
    - 只读存储器    只读
  - 存取时间与物理地址有关(串行访问)
    - 顺序存取存储器  磁盘
    - 直接存取存储器  磁盘

- 按在计算机中的作用‘
  - 主存储器
    - RAM(可读可写)
      - 静态RAM
      - 动态RAM
    - ROM(只读)
      - MROM
      - PROM
      - EPROM
      - EEPROM
  - 辅助存储器     磁盘、磁带、光盘
  - Cache(作为cpu和主存的缓冲)
  - Flash Memory(作为主存和辅助存储器的缓冲)

### 存储器的层级结构

#### 存储器三个主要特征的关系

![image-20230317092253961](/imgs/image-20230317092253961.png)

#### 缓存-主存层次和主存-辅存层次

![image-20230317092832311](/imgs/image-20230317092832311.png)

![image](/imgs/image-20230317093205018.png)


## 主存储器

### 概述

#### 主存的基本组成

![image-20230317093508777](/imgs/image-20230317093508777.png)

#### 主存和CPU的联系

![image-20230317093557218](/imgs/image-20230317093557218.png)

#### 主存中存储单元地址的分配

![image-20230317094658587](/imgs/image-20230317094658587.png)

> 前提是字长32位  按字节寻址  每一个字节拥有一个地址   有两种方式 一个是高位字节的地址作为字的地址  就是大端、大尾  字节地址就是高位字节的地址  把高位字节的地址当作字地址  小尾则反过来 把地位字节的地址当作字节的地址

![image-20230317095003451](/imgs/image-20230317095003451.png)

> 如果地址线是24根  按字节寻址  一共可以编址16MB 也就是000000表示第一个字的第一个字节 11111表示最后一个字的最后一共字节
>
> 若字长为16位  按字寻址  一共可以编址2^23^位地址也就是8MW(Word)一个字16位2个字节还需要留一位给字节  也就是 00000 1表示第一个字的第二个字节 1111 0表示最后一个字的第一个字节
>
> 若字长位32位则需要拿出2位来给字节编址也就是4MW

#### 主存的技术指标

- 存储容量
- 存储速度
  - 存取时间   存储器的访问时间
    - 读出时间  写入时间
  - 存取周期    连续两次独立的存储器操作(读或写)所需的最小间隔时间
- 存储器的带宽  位/秒

### 半导体存储芯片简介

#### 基本结构

 ![image-20230317101355279](/imgs/image-20230317101355279.png)



![image-20230317101712619](/imgs/image-20230317101712619.png)

> 片选线 规定当前存储芯片是否被选中

![image-20230317102059527](/imgs/image-20230317102059527.png)

> 16K x 1位 地址线是16K  MAR是2^14^次方  MDR是1位 也就是 一个有16K的字  一个字是1位
>
> 如果将8片组在一起看成一个整体就是16K x 8 对这8片芯片的读写是一起的 把这8片的片选线连在一起 。当片选线为低 地址线为14位0 也就是第一个字  读出来8位
>
> 用4组这样的8片在一起  组成64K  0-(16k-1)表示第一个8片 16K-(32K-1)表示第二个8片 32K-(48K-1)表示第三片  48K-(64K-1)表示第4片
>
> 当CPU给出的地址是65535时 属于第4片的地址 于是将其余3片片选设为高电平 第四片片选设为低电平  然后65535也就是第4片的最后一个字 将第四片的8个芯片的每一个的最后一个字取出

#### 半导体存储芯片的译码驱动方式

##### 线选法

![image-20230317103857876](/imgs/image-20230317103857876.png)

> 每一行的个芯片的片选线是连在一起的
>
> 将每一行的片选线接到地址译码器上 当输入0000 译码之后是0 第一行片选线设为低电平 其余设为高电平  读/写控制电路从第一行读/写

==缺点==  如果地址线是20条 那么译码出来是1M条线 线束太多会非常密集

##### 重合法

![image-20230317104825841](/imgs/image-20230317104825841.png)

>线选法是将8个芯片在一行 重合法将8个芯片看作一个坐标(0,0)(0,1)每一个坐标表示8个芯片假设一个芯片的MAR是1位 (0,1)输出8位
>
>假设地址线是10根 如果是线选法 译码出来是1K条线  如果分成XY两条 则译码出来是64根 大大减少线束
>
>寻找方法: 假设地位(x)地址是0001 高位(y)地址是00000  就会选出坐标为(1,0)的8个芯片



### 随机存取存储器(RAM)
##### 静态RAM(SRAM)
- [ ] 保存0和1的原理是什么？
- [ ] 基本单元电路的构成是什么?
- [ ] 对单元电路如何读出和写入?
- [ ] 典型芯片的结构是什么样子?
- [ ] 静态RAM芯片是如何进行读和写的？

---
---

- [x] 保存0和1的原理是什么？

![RS触发器](/compose/2.png)
::: tip 复习
复习一下触发器叭
1. 通常Q端的逻辑电平当作触发器的状态
2. S端位置位端 R端位复位端
3. CLK为1时 当S端位1 R端为0 Q端为1 当S端为1 R端为0 Q端为0
4. CLK为1时 当S和R端都为0 Q端保持上一次状态
5. CLK为1时 当S和R端都为1 Q端和~Q端都为1 为禁止状态
6. CLK为0时 Q端都保持原来的状态

当S和R端都为0 不管触发器原来的状态是0态还是1态，触发器的状态都不变，说明触发器具有保持的特性，能够记忆历史的状态。
:::
---
---

- [x] 基本单元电路的构成是什么?
::: center
==核心利用触发器构成==
:::
![静态RAM基本电路](/compose/1.png)
::: info 大致理解
A端和A'端为触发器的Q端和Q'端

当地址选择没有选中这个单元 A端和A'端保持原来的状态不变 相当于CLK为0

当地址选择选中这个单元 A端和A'端输出保存的信息 相当于CLK为1

:::

---
---
- [x] 对单元电路如何读出和写入?
::: info 读操作
![SRAM的读操作](/compose/3.png)
**将行选和列选打开  也就是相当于把触发器的CLK线置为1**
![SRAM的读操作](/compose/4.png)
**触发器中的数据会从A端通过位线A到D~out~在到IO或者CPU**
:::


##### 动态RAM(DRAM)




##### 动态RAM和静态RAM的比较



### 只读存储器(ROM)

#### 掩模ROM(MROM)



#### PROM(一次性编程)



#### EPROM(多次性编程)


#### EEPROM(电可擦)

#### Flash Memory(闪速型存储器)

### 存储器与CPU的连接

 

### 存储器的校验

### 提高访存速度的措施

