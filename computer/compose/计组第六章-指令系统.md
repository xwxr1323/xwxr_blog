---
title: 第六章 指令系统
category: 计算机组成原理
order: 6
excerpt: 计组第六章-指令系统
---
## 机器指令
### 一般格式
![](/compose/118.png)
1. 操作码 反应机器做什么操作
    1. 长度固定

        用于指令字长较长，RISC

    2. 长度可变

        操作码分散在指令字的不同字段中
    
    3. 拓展操作码技术
    
        ![](/compose/119.png)

2. 地址码
    1. 四地址

        ![](/compose/120.png)

        > 地址码寻址范围太小，通过减少地址数量来使寻址范围增大，PC寄存器(PC+1)代替A~4~
    2. 三地址

        ![](/compose/121.png)

        > 用A~1~或者A~2~来代替A~3~减少地址个数
    3. 二地址

        ![](/compose/122.png)

        > 若结果存于ACC寄存器中，就可以减少一次访存。若用ACC代替A~1~(A~2~)。
    4. 一地址

        ![](/compose/122.png)
        
        第一次访存取操作码，第二次访存取A~1~于ACC，A~1~ OP A~2~(上次的结果)于ACC
    5. 零地址

### 指令字长
指令字长取决于
- 操作码的长度
- 操作数地址的长度
- 操作数地址的个数

![](/compose/124.png =x200)
## 操作数类型和操作类型
### 操作数类型
- 地址  无符号整数
- 数字  定点数、浮点数、十进制数
- 字符  ASCII
- 逻辑数    逻辑运算
### 数据在存储器的存放方式
![](/compose/125.png)

- 字节编址，数据在存储器中的存放方式(存储字长64位，机器字长32位)
    - 从任意位置开始存储

    ![](/compose/126.png)

    优点是不浪费存储资源，而缺点也明显，除了访问一个字节之外，访问其他任何类型的数据都可能花费两个存储周期的时间。一次存储周期可以存取`64`位，如果在一个双字前面有一个其他字，双字便会到下一个64位，若读取这个双字，需要2个存取周期把前后两个`64`位都读出来
    - 从一个存储字的的起始位置开始访问。

    ![](/compose/127.png)
    
    只需要一个存取周期就可以取出数据，但是浪费了大量的空间
    - 边界对准方式

    ![](/compose/128.png)
    
    按地址的整数倍存储，比如，字节占1个字节，可以存储在地址的任意位置，半字占2个字节，只能存储在地址的偶数倍位置，比如`0x10`,`0x12`，不允许存储在`0x11`。双字节只能存储在地址的`8`倍处。比如`0x08` `0x16`。


### 操作类型

![](/compose/129.png)

![](/compose/130.png)

![](/compose/131.png =x500)

![](/compose/132.png)

![](/compose/133.png)

## 寻址方式
确定`本条指令`的`操作数地址`。`下一条`要执行`指令`的`指令地址`
